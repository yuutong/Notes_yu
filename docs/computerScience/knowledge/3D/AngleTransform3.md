### 激光线扫相机成像受倾斜的影响关系

![激光器与被测物体表面](image.png)


### 一、正常情况的激光成像（激光器与被测物体表面垂直）

![激光器与被测物体表面垂直](image-1.png)

如图所示，激光器与被测物体表面垂直的情况，激光线分别照射在被测物体表面以及底面上。<br>
被测物体表面距离底面的高度为x，物体表面的激光线与底面激光线的高度差同样为x，在相机靶面的投影距离为x'。<br>
此时激光相机得到的点云图能够正确地反应被测物体表面距离底面的高度差。

![物体表面的激光线与底面激光线的高度差](image-2.png)


### 二、激光倾斜时的激光成像（激光线与运动方向不垂直）

![激光倾斜时的激光成像](image-3.png)

如图所示，激光器与水平面的夹角的θ，被测物体水平放置，激光线分别照射在被测物体表面与底面上。<br>
此时被测物体表面距离底面的高度为x，物体表面的激光线与底面激光线的高度差为x/sinθ，在相机靶面的投影距离为(x/sinθ)'。<br>
此时激光相机得到的点云图会出现失真，被测物体表面距离底面的高度差会被拉伸。   

![物体表面的激光线与底面激光线的高度差2](image-5.png)

矫正方式：<br>
1、使用标定块，做一次基准扫描，获取标定块的高度差，用标定块高度差实际值除以标定块高度差检测值即可得到矫正系数，<br>
将产品检测的高度差乘以矫正系数即可得到实际高度差。该矫正方式仅适用于相机倾斜程度不变的情况。<br>
矫正系数=标定块高度差实际值/标定块高度差检测值<br>
实际高度差=检测高度差*矫正系数

2、已知激光器与水平面的夹角大小的情况下，可将高度差计算结果乘以sinθ得到矫正结果，sinθ的值可查询附录获得。该矫正方式仅适用于相机倾斜程度不变的情况。<br>
实际高度差=检测高度差*sinθ


### 三、物体倾斜时的激光成像


![三、物体倾斜时的激光成像](image-6.png)

如图所示，激光器与水平面垂直，被测物体与水平面的夹角为θ，激光线分别照射在被测物体表面与底面上。<br>
此时被测物体表面距离底面的高度为x，物体表面的激光线与底面激光线的高度差为x/cosθ，在相机靶面的投影距离为(x/cosθ)'。<br>
此时激光相机得到的点云图会出现失真，被测物体表面距离底面的高度差会被拉伸。<br>
实际上第1类情况可以视为此类的特殊情况

![物体表面的激光线与底面激光线的高度差3](image-7.png)

矫正方式：<br>
1、可通过拟合平面的方式获取被测物体与水平面的夹角θ，进而计算出余弦值cosθ，将测得的高度差乘以cosθ，即可得到实际的高度差。<br>
该矫正方式的优点是可以根据来料倾斜程度的不同进行实时矫正。<br>
实际高度差=检测高度差*cosθ

2、使用标定块，做一次基准扫描，获取标定块的高度差，用标定块高度差实际值除以标定块高度差检测值即可得到矫正系数，<br>
将产品检测的高度差乘以矫正系数即可得到实际高度差。该矫正方式仅适用于产品倾斜程度不变的情况。<br>
矫正系数=标定块高度差实际值/标定块高度差检测值 <br>
实际高度差=检测高度差*矫正系数

3、已知被检测物体与水平面的夹角大小的情况下，可将高度差计算结果乘以cosθ得到矫正结果，cosθ的值可查询附录获得。该矫正方式仅适用于被检测物体倾斜程度不变的情况。<br>
实际高度差=检测高度差*cosθ


### 四、附录

#### 1、正弦值对照表

![正弦值对照表](image-8.png)

#### 2、余弦值对照表

![余弦值对照表](image-9.png)